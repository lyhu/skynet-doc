# 2.5 服务守护



## 服务守护

### 功能

检测服务进程死活

### 实现

策略 扫描PID+健康状态检测，

* PID不存在：自动重启
* 健康状态：N次访问检测失败，将KILL进程。
  * 目前检测协议是HTTP，后期支持Socket.





## 健康检测

### 功能

定时检测服务端口是否可用，超过N次失败，认为服务僵死或不存在，直接尝试KILL

### 实现

* HTTP（s）：判断返回HTTP STATE 是否 为 200。
* GRPC：（暂未实现）
* 其他类型服务：通过端口TELNET（暂未实现）

### 配置

在服务定义是可以配置 检测间隔时间、失败测试

