# 2.2 服务定义

## 1. 功能说明

 将服务的相关运行配置注册配置到集群，下面是服务定义页面

![](../.gitbook/assets/image%20%2841%29.png)

## 2. 功能详细

通过xManager管理工具定义系统（插件）、服务运行参数配置

新增服务时，填写所属系统、服务名称等基本信息，选择服务类型，主要有以下几种类型

* **SkynetBoot：**按照skynet开发规范开发的服务，主要指的是各种能力服务以及一些基础服务
* **SpringBoot：**利用SpringBoot技术封装的工程，以SpringBoot方式进行启动
* **JavaBoot：**能够启动的java工程，以jar包方式进行启动
* **BaseBoot：**能够使用命令进行启动的任意进程

配置存放位置：zkPath=/skynet/plugin 

### 2.1 基本信息：

![](../.gitbook/assets/image%20%2813%29.png)

###  

> **启用网关：**支持所有类型服务，通过网关桥服务注册到网关服务，具体参加《服务发现与网关注册》
>
> **日志采集：**只正对SpringBoot服务，通过agent注入logger 的SocketAppeder来收集日志，具体参考《日志采集》
>
> **Eureka服务发现：**只针对SpringBoot服务，在服务启动时注入当前集群的Eureka服务地址，让其自动连接Eureak注册中心

### **2.2 运行参数**

主要是运行环境变量设置，如端口设置、开关属性设置等

![](../.gitbook/assets/image%20%2852%29.png)

### **2.3 环境变量**

如引擎服务系统环境设置，运行资源库加载等

![](../.gitbook/assets/image%20%2835%29.png)

### **2.4 健康检查**

可以选择是否打开，开启后选择健康检测路径、检测间隔等，如达到一定的失败次数，认为此服务僵死，将直接KILL服务进程。（如果实际的服务不存在，有另外的机制保障不检测了）

![](../.gitbook/assets/image%20%2858%29.png)

### **2.5 文件更新**

可以选择启动或者关闭，选择下载url以及下载目标路径，此项功能变相实现了服务的自动更新部署。

![](../.gitbook/assets/image%20%2848%29.png)

### **2.6日志配置**

配置服务的日志级别，格式：命名空间=INFO\|DEBUG\|ERROR

![](../.gitbook/assets/image%20%2867%29.png)

### **2.7 属性配置**

设置服务用到的属性配置信息，以 KEY=VALUE 形式，配置规则与application.properties一致，如数组

```coffeescript
ips[0]=192.168.83.203
ips[1]=192.168.83.204
```

![](../.gitbook/assets/image%20%2842%29.png)

