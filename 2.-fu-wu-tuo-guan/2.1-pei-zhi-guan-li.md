# 2.1 配置管理

## 1. 功能说明

 实现Action服务配置的集中管理，配置目录为相应zk节点，服务坐为Action@plugin，共有集群、系统、服务三级配置，配置优先级：服务级 &gt; 系统级 &gt; 集群级

![](../.gitbook/assets/image.png)

##  2. 具体实现

 利用ZK配置作为配置中心，管理服务的**Key-Value属性**和**日志级别**的配置

###  2.1 日志等级

可以通过配置，设置服务的日志级别，日志级别有以下设置方式

* **集群级**：zkPath=/skynet/setting/\_logger
* **系统级**：zkPath=/skynet/plugin/{系统插件}/setting/\_logger
* **服务级**：zkPath=/skynet/plugin/{系统插件}/action/{Action服务}/\_logger

### 2.2 日志设置

下面是日志级别设置方式介绍

集群级别日志设置

![](../.gitbook/assets/image%20%2824%29.png)

系统级别设置

![](../.gitbook/assets/image%20%2853%29.png)

服务级别设置

![](../.gitbook/assets/image%20%2843%29.png)

日志级别设置优先级为  服务级 &gt; 系统级 &gt; 集群级，如上面三个都对skynet.cloud进行了级别设置，最后服务级别设置设置优先级最高，所以其日志级别为DEBUG

### 2.3 属性等级

属性等级分为集群、系统、服务三级配置，配置路径为：

* **集群级**： zkPath=/skynet/setting/\_properties
* **系统级**： zkPath=/skynet/plugin/{系统插件}/setting/\_properties
* **服务级**： zkPath=/skynet/plugin/{系统插件}/action/{Action服务}/\_properties

### 2.4 属性设置

下面是属性设置方式介绍

集群级属性设置

![](../.gitbook/assets/image%20%2841%29.png)

系统级设置

![](../.gitbook/assets/image%20%2856%29.png)

服务级设置

![](../.gitbook/assets/image%20%2815%29.png)

属性级别设置优先级为  服务级 &gt; 系统级 &gt; 集群级，如上面三个对skynet.api.swagger2.enabled进行了属性设置，最后服务级别设置设置优先级最高，所以其值为true

## 3. 优势

* 不同级别配置可以个性定制，同时又可共享，只需配置一份
* 保持SpringBoot属性配置编码风格，方便SpringBoot项目迁移到Skynet上托管运行

##  4. 配置查看

服务配置查看，可以通过skynet-agent服务的config接口访问： 如，springboot@sample 服务： 

[http://192.168.83.206:6230/skynet/config/springboot@sample?actionId=springboot@sample](http://192.168.83.206:6230/skynet/config/springboot@sample?actionId=springboot@sample)





